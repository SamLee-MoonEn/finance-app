# 🔑 DART Open API 키 발급 및 설정 가이드

## 📋 개요

본 프로젝트는 금융감독원의 전자공시시스템(DART) Open API를 활용하여 상장회사의 재무정보를 시각화합니다.

## 🚀 DART Open API 키 발급 받기

### 1. DART 홈페이지 접속
- URL: https://opendart.fss.or.kr/
- 상단 메뉴에서 "Open API" 클릭

### 2. 인증키 신청
1. **회원가입/로그인**
   - DART 계정이 없다면 회원가입 진행
   - 기존 계정으로 로그인

2. **인증키 신청서 작성**
   - 개발가이드 > 인증키 신청 메뉴 이동
   - 신청서 양식 작성:
     - 이용목적: 개발/연구/교육 등
     - 서비스명: 회사 재무정보 분석 시스템
     - 서비스 URL: localhost:5000 (개발용)

3. **승인 대기**
   - 보통 1-2일 내 승인
   - 승인 시 이메일로 API 키 발송

## ⚙️ API 키 설정 방법

### 방법 1: 코드에서 직접 설정
`app.py` 파일의 다음 부분을 수정:

```python
# DART Open API 설정
DART_API_KEY = "여기에_발급받은_40자리_API키_입력"
```

### 방법 2: 환경변수 설정 (권장)
1. **환경변수 파일 생성**
```bash
# .env 파일 생성
DART_API_KEY=여기에_발급받은_40자리_API키_입력
```

2. **app.py 수정**
```python
import os
from dotenv import load_dotenv

load_dotenv()
DART_API_KEY = os.getenv('DART_API_KEY')
```

## 📊 제공되는 재무정보

### 📈 시각화 차트
1. **재무 개요**
   - 자산/부채/자본 구성 도넛차트
   - 수익성 지표 막대차트

2. **추이 분석**
   - 매출액 3년 추이 선그래프
   - 영업이익/순이익 추이 비교

3. **재무 비율**
   - 영업이익률, 순이익률
   - ROE, ROA
   - 부채비율, 유동비율

4. **재무제표**
   - 주요 계정 3년간 데이터 테이블

### 📊 지원하는 보고서 종류
- **사업보고서** (11011): 연간 종합 재무정보
- **반기보고서** (11012): 상반기 재무정보
- **1분기보고서** (11013): 1분기 재무정보
- **3분기보고서** (11014): 3분기 재무정보

## 🛠️ 기술적 세부사항

### API 요청 형식
```
GET https://opendart.fss.or.kr/api/fnlttSinglAcnt.json
?crtfc_key=API키
&corp_code=회사고유번호
&bsns_year=사업연도
&reprt_code=보고서코드
```

### 응답 데이터 구조
```json
{
  "status": "000",
  "message": "정상",
  "list": [
    {
      "account_nm": "매출액",
      "thstrm_amount": "243771415000000",
      "frmtrm_amount": "239575376000000",
      "fs_div": "CFS",
      "sj_div": "IS"
    }
  ]
}
```

## 🚨 주의사항

### API 사용 제한
- **일일 요청 한도**: 20,000건
- **초당 요청 한도**: 10건
- **IP 기반 제한**: 등록된 IP에서만 사용 가능

### 데이터 범위
- **시작연도**: 2015년 이후
- **대상회사**: 상장회사 및 외감법인
- **업데이트**: 분기별 정기 업데이트

## 🔧 문제해결

### 자주 발생하는 오류

1. **010: 등록되지 않은 키**
   - API 키 재확인
   - 승인 여부 확인

2. **012: 접근할 수 없는 IP**
   - IP 주소 등록 확인
   - 네트워크 환경 확인

3. **013: 조회된 데이터가 없음**
   - 회사코드 확인
   - 사업연도 확인 (2015년 이후)

4. **020: 요청 제한 초과**
   - 일일 한도 확인
   - 요청 간격 조정

### 샘플 데이터 모드
API 키가 없어도 샘플 데이터로 시각화 기능을 체험할 수 있습니다:
- 삼성전자 재무데이터 기반 샘플
- 모든 차트 및 비율 표시
- 실제 API 연동 전 UI/UX 확인 가능

## 📞 지원

### DART 공식 지원
- **이메일**: opendart@fss.or.kr
- **전화**: 02-3145-5114
- **운영시간**: 평일 9:00-18:00

### 프로젝트 관련 문의
- GitHub Issues 등록
- 개발 문서 참조: `README.md`

---

## 🎯 다음 단계

1. ✅ API 키 발급 받기
2. ✅ `app.py`에 API 키 설정
3. ✅ Flask 애플리케이션 실행
4. ✅ 상장회사 검색 후 재무정보 확인
5. 🔄 원하는 회사의 재무분석 수행

**Happy Coding! 📊💹** 